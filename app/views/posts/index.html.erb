<!--<div class="d-flex justify-content-end">-->
<!--</div>-->


<div class="container">
<h1>Find your post</h1>
<%= form_with url: posts_path, method: :get do |form| %>
  <div class="mb-3">
    <%= form.label :title, class: 'form-label' %>
    <%= form.text_field :title, value: params[:title], class: 'form-control' %>
  </div>
  <div class="mb-3">
    <%= form.label :start_date, class: 'form-label' %>
    <%= form.date_field :start_date, value: params[:start_date], class: 'form-control' %>
  </div>
  <div class="mb-3">
    <%= form.label :end_date, class: 'form-label' %>
    <%= form.date_field :end_date, value: params[:end_date], class: 'form-control' %>
  </div>
  <div class="mb-3">
    <%= form.label :published, class: 'form-check-label' %>
    <%= form.check_box :published, class: 'form-check-input' %>
  </div>
  <%= form.submit 'Search', class: 'btn btn-sm btn-primary' %>
<% end %>
</div>
<hr>
<h2>Post List</h2>
<%= link_to 'Add new Post', new_post_path, class: 'btn btn-success btn-sm' %>
<table class="table table-hover table-bordered table-sm">
  <thead>
  <tr>
    <th>TITLE</th>
    <th>CONTENT</th>
    <th>CATEGORY</th>
    <th>STATUS</th>
    <th>CREATED AT</th>
    <th>UPDATED AT</th>
    <th>ACTIONS</th>
  </tr>
  </thead>
  <tbody>
  <% @posts.each do |post| %>
    <tr>
      <td><%= post.title %></td>
      <td><%= post.content %></td>
      <td><%= post.categories.pluck(:name).join(',') %></td>
      <td><%= post.published == "1" ? true : false %></td>
      <td><%= post.created_at.strftime("On %m/%d/%Y at %I:%M%p") %></td>
      <td><%= post.updated_at.strftime("On %m/%d/%Y at %I:%M%p") %></td>
      <td>
        <div class="btn-group-vertical" role="group" aria-label="Post Actions">
          <%= link_to 'Edit', edit_post_path(post), class: 'btn btn-outline-dark' %>
          <%= link_to 'Show', post_path(post), class: 'btn btn-outline-dark' %>
          <%= link_to 'New Comment', new_post_comment_path(post), class: 'btn btn-outline-dark' %>
          <%= link_to 'Comments', post_comments_path(post), class: 'btn btn-outline-dark' %>
        </div>
        <%= button_to 'Delete', post_path(post), method: :delete, class: 'btn btn-outline-danger' %>
      </td>
    </tr>
  <% end %>
  </tbody>
</table>


